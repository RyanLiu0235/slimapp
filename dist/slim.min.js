!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.slim={})}(this,function(e){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t,n=(function(e,t){e.exports=function(){var e=function e(t){for(var n,r=document.createElement(t.tagName),i=t.props,o=Object.keys(i),a=0;a<o.length;a++)n=o[a],r.setAttribute(n,i[n]);for(var s,f=t.children,c=0;c<f.length;c++)if(s=f[c],["string","number"].indexOf(typeof s)>-1){var p=document.createTextNode(s);r.appendChild(p)}else{var u=e(s);r.appendChild(u)}return r};function t(e,t){for(var r={},i=[],o=0,a=e.length;o<a;o++){var s=e[o],f=n(s,t);f?r[f]=o:i.push(s)}return{keyIndex:r,free:i}}function n(e,t){if(e&&t)return"string"==typeof t?e[t]:t(e)}var r=function(e,r,i){for(var o,a,s=t(e,i),f=t(r,i),c=f.free,p=s.keyIndex,u=f.keyIndex,l=[],h=[],d=0,v=0;d<e.length;){if(a=n(o=e[d],i))if(u.hasOwnProperty(a)){var g=u[a];h.push(r[g])}else h.push(null);else{var y=c[v++];h.push(y||null)}d++}var E=h.slice(0);for(d=0;d<E.length;)null===E[d]?(O(d),x(d)):d++;for(var m=d=0;d<r.length;){a=n(o=r[d],i);var R=E[m],b=n(R,i);R?a===b?m++:p.hasOwnProperty(a)&&n(E[m+1],i)===a?(O(d),x(m),m++):k(d,o):k(d,o),d++}function O(e){var t={index:e,type:0};l.push(t)}function k(e,t){var n={index:e,item:t,type:1};l.push(n)}function x(e){E.splice(e,1)}return{moves:l,children:h}},i={isString:function(e){return"string"==typeof e}},o={REPLACE:"REPLACE",REORDER:"REORDER",PROPS:"PROPS",TEXT:"TEXT"};function a(t,n){var r=n.patch;switch(n.type){case o.REPLACE:var a=i.isString(r)?r:e(r);t.parentNode.replaceChild(a,t);break;case o.REORDER:!function(t,n){for(var r,i,o,a,s=t.childNodes,f=(s.length,0);f<n.length;f++)switch(r=n[f],i=r.index,o=r.item,a=s[i],r.type){case 0:t.removeChild(a);break;case 1:var c=e(o);t.insertBefore(c,a)}}(t,r.moves);break;case o.PROPS:!function(e,t){for(var n,r,i=Object.keys(t),o=0;o<i.length;o++)n=i[o],!1===(r=t[n])||void 0===r?e.removeAttribute(n):e.setAttribute(n,r)}(t,r);break;case o.TEXT:var s=document.createTextNode(r);t.parentNode.replaceChild(s,t)}}return{h:function(e,t,n){return new function e(t,n,r){n=n||{},r=r||[],this.tagName=t,this.props=n,this.key=n.key,this.children=r;for(var i,o=0,a=0;a<r.length;a++)(i=r[a])instanceof e&&(o+=i.count),o++;this.count=o}(e,t,n)},render:e,diff:function(e,t){var n={};return function e(t,n,a,s){var f=[];if(null===n);else if(i.isString(t)&&i.isString(n))t!==n&&f.push({type:o.TEXT,patch:n});else if(t.tagName===n.tagName&&t.key===n.key){for(var c,p=t.props,u=n.props,l=Object.assign({},p,u),h=Object.keys(l),d={},v=0;v<h.length;v++)c=h[v],u[c]!==p[c]&&(d[c]=u[c]);Object.keys(d).length>0&&f.push({type:o.PROPS,patch:d});var g=t.children,y=r(g,n.children,"key"),E=y.moves,m=y.children;E.length>0&&f.push({type:o.REORDER,patch:{moves:E}});for(var R,b,O=null,k=a,x=0;x<g.length;x++)R=g[x],b=m[x],k+=O&&O.count?O.count:1,e(R,b,k,s),O=R}else f.push({type:o.REPLACE,patch:n});f.length>0&&(s[a]=f)}(e,t,0,n),n},patch:function(e,t){!function e(t,n,r){var o=n[r];if(!i.isString(t))for(var s=t.childNodes,f=0;f<s.length;f++)e(s[f],n,++r);if(o)for(var c=0;c<o.length;c++)a(t,o[c])}(e,t,0)}}}()}(t={exports:{}},t.exports),t.exports),r=n.h,i=n.render;n.diff,n.patch;var o=function(e,t,n,r){var o=i(e);r.appendChild(o)},a=r,s={app:o,h:a};e.default=s,e.app=o,e.h=a,Object.defineProperty(e,"__esModule",{value:!0})});
